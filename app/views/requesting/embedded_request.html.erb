<!-- Gotta include the HelloSign embedded.js library -->
<script type="text/javascript" src="https://s3.amazonaws.com/cdn.hellosign.com/public/js/hellosign-embedded.LATEST.min.js"></script>
<!-- Open the embedded signer iFrame -->
<script type="text/javascript">
// <![CDATA[
 HelloSign.init( '<%= @client_id %>');
  HelloSign.open({
    'url': '<%= @claim_url %>',
    'allowCancel': true,
    'skipDomainVerification': true,
    'uxVersion': 2,
    messageListener: function(eventData) {
    if (eventData.event == HelloSign.EVENT_SIGNED) {
            HelloSign.close();
            console.log("Thank you for signing!");
        } else if (eventData.event == HelloSign.EVENT_SENT) {
            HelloSign.close();
            console.log("Request sent!");
        } else if (eventData.event == HelloSign.EVENT_CANCELED) {
            HelloSign.close();
            console.log("Thank you for canceling!");
        } else if (eventData.event == HelloSign.EVENT_DECLINED) {
            HelloSign.close();
            console.log("Declined!");
        } else if (eventData.event == HelloSign.EVENT_ERROR) {
            HelloSign.close();
            console.log("Errors suck!");
        } else if (eventData.event == HelloSign.EVENT_TEMPLATE_CREATED) {
            HelloSign.close();
            console.log("Template created!");
        }
    }
  });
// ]]>
</script>