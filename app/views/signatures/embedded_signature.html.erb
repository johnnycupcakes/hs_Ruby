<!-- Gotta include the HelloSign embedded.js library -->
<script type="text/javascript" src="https://s3.amazonaws.com/cdn.hellosign.com/public/js/hellosign-embedded.LATEST.min.js"></script>
<!-- Open the embedded signer iFrame -->
<script type="text/javascript">
// <![CDATA[
HelloSign.init('<%= @client_id %>'); 
	HelloSign.open({ 
		url: '<%= @sign_url %>', 
		allowCancel: false, 
		skipDomainVerification: true, 
		redirectUrl: "http://www.example.com/",
		debug: (location.hostname == 'localhost'), 
		uxVersion: 2, 
		redirectUrl: "http://hypebeast.com/",
		container: document.getElementById('vault-hellosign-iframe'), 
		messageListener: function(eventData) { 
		console.log(eventData);

// Make sure loader is closed 
$('#vault-hellosign-progress').empty();

// TODO: Notify API or wait for callback? 
if (eventData.event === HelloSign.EVENT_SIGNED) { 
console.log(eventData["signature_request_id"]);
} 
} 
});
</script>
